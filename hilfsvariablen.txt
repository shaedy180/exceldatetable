-- Hilfs-Variablen-Pattern (nutzen wir in jedem Show-Measure gleich):
-- sel = aktuelle Auswahl des Slicers (als kleine In-Memory-Tabelle)
-- isAusOnly = "Aus" ist alleine gewählt (zählt als globales Aus)

-- Δ € (T€) zeigen, wenn "Δ €" selektiert ist und nicht "Aus" allein
[Δ € (T€) Show] :=
VAR sel       = VALUES(tblDeltaSelect[Delta])
VAR isAusOnly = COUNTROWS(sel) = 1 && NOT ISEMPTY(FILTER(sel; tblDeltaSelect[Delta] = "Aus"))
VAR hasEUR    = NOT ISEMPTY(FILTER(sel; tblDeltaSelect[Delta] = "Δ €"))
RETURN IF( NOT isAusOnly && hasEUR; [Δ € (T€)]; BLANK() )

-- Δ % zeigen, wenn "Δ %" selektiert ist (und nicht "Aus" allein)
[Δ % Show] :=
VAR sel       = VALUES(tblDeltaSelect[Delta])
VAR isAusOnly = COUNTROWS(sel) = 1 && NOT ISEMPTY(FILTER(sel; tblDeltaSelect[Delta] = "Aus"))
VAR hasPct    = NOT ISEMPTY(FILTER(sel; tblDeltaSelect[Delta] = "Δ %"))
RETURN IF( NOT isAusOnly && hasPct; [Δ %]; BLANK() )

-- Δ Menge zeigen, wenn "Δ Menge" selektiert ist (und nicht "Aus" allein)
[Δ Menge Show] :=
VAR sel       = VALUES(tblDeltaSelect[Delta])
VAR isAusOnly = COUNTROWS(sel) = 1 && NOT ISEMPTY(FILTER(sel; tblDeltaSelect[Delta] = "Aus"))
VAR hasQty    = NOT ISEMPTY(FILTER(sel; tblDeltaSelect[Delta] = "Δ Menge"))
RETURN IF( NOT isAusOnly && hasQty; [Δ Menge]; BLANK() )
